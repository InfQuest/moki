import{r as i,j as n,R as $e,c as Ie}from"./chunk-DwIl6HIv.js";import{M as Ze,a as Fe}from"./chunk-cFAJfbYw.js";import"./chunk-Cpj98o6Y.js";function ze(e,t,r,a){function c(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function o(f){try{p(a.next(f))}catch(l){s(l)}}function h(f){try{p(a.throw(f))}catch(l){s(l)}}function p(f){f.done?u(f.value):c(f.value).then(o,h)}p((a=a.apply(e,[])).next())})}var Pe=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],a=0;a<e.rangeCount;a++)r.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(c){e.addRange(c)}),t&&t.focus()}},Ve=Pe,pe={"text/plain":"Text","text/html":"Url",default:"Text"},Be="Copy to clipboard: #{key}, Enter";function Ke(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Je(e,t){var r,a,c,u,s,o,h=!1;t||(t={}),r=t.debug||!1;try{c=Ve(),u=document.createRange(),s=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(f){if(f.stopPropagation(),t.format)if(f.preventDefault(),typeof f.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var l=pe[t.format]||pe.default;window.clipboardData.setData(l,e)}else f.clipboardData.clearData(),f.clipboardData.setData(t.format,e);t.onCopy&&(f.preventDefault(),t.onCopy(f.clipboardData))}),document.body.appendChild(o),u.selectNodeContents(o),s.addRange(u);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");h=!0}catch(f){r&&console.error("unable to copy using execCommand: ",f),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),h=!0}catch(l){r&&console.error("unable to copy using clipboardData: ",l),r&&console.error("falling back to prompt"),a=Ke("message"in t?t.message:Be),window.prompt(a,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(u):s.removeAllRanges()),o&&document.body.removeChild(o),c()}return h}var Ye=Je;function P(e){return Object.prototype.toString.call(e)==="[object Object]"}function K(e){return Array.isArray(e)?e.length:P(e)?Object.keys(e).length:0}function qe(e,t){if(typeof e=="string")return e;try{return JSON.stringify(e,(r,a)=>{switch(typeof a){case"bigint":return String(a)+"n";case"number":case"boolean":case"object":case"string":return a;default:return String(a)}},t)}catch(r){return`${r.name}: ${r.message}`||"JSON.stringify failed"}}function We(e){return ze(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(e)}catch{Ye(e)}})}function ge(e,t,r,a,c,u){if(u&&u.collapsed!==void 0)return!!u.collapsed;if(typeof a=="boolean")return a;if(typeof a=="number"&&t>a)return!0;const s=K(e);if(typeof a=="function"){const o=ie(a,[{node:e,depth:t,indexOrName:r,size:s}]);if(typeof o=="boolean")return o}return!!(Array.isArray(e)&&s>c||P(e)&&s>c)}function he(e,t,r,a,c,u){if(u&&u.collapsed!==void 0)return!!u.collapsed;if(typeof a=="boolean")return a;if(typeof a=="number"&&t>a)return!0;const s=Math.ceil(e.length/100);if(typeof a=="function"){const o=ie(a,[{node:e,depth:t,indexOrName:r,size:s}]);if(typeof o=="boolean")return o}return!!(Array.isArray(e)&&s>c||P(e)&&s>c)}function B(e,t,r){return typeof e=="boolean"?e:!!(typeof e=="number"&&t>e||e==="collapsed"&&r||e==="expanded"&&!r)}function ie(e,t){try{return e(...t)}catch(r){reportError(r)}}function Re(e){if(e===!0||P(e)&&e.add===!0)return!0}function me(e){if(e===!0||P(e)&&e.edit===!0)return!0}function le(e){if(e===!0||P(e)&&e.delete===!0)return!0}function Ge(e){return typeof e=="function"}function _e(e){return!e||e.add===void 0||!!e.add}function ve(e){return!e||e.edit===void 0||!!e.edit}function ce(e){return!e||e.delete===void 0||!!e.delete}function J(e){return!e||e.enableClipboard===void 0||!!e.enableClipboard}function Xe(e){return!e||e.matchesURL===void 0||!!e.matchesURL}function Qe(e,t){return e==="string"?t.trim().replace(/^\"([\s\S]+?)\"$/,"$1"):t}var je;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(this,arguments)}var oe=function(t){return i.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},t),je||(je=i.createElement("path",{fill:"currentColor",d:"M12.473 5.806a.666.666 0 0 0-.946 0L8.473 8.86a.667.667 0 0 1-.946 0L4.473 5.806a.667.667 0 1 0-.946.94l3.06 3.06a2 2 0 0 0 2.826 0l3.06-3.06a.667.667 0 0 0 0-.94Z"})))},ye;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},G.apply(this,arguments)}var et=function(t){return i.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),ye||(ye=i.createElement("path",{fill:"currentColor",d:"M17.542 2.5h-4.75a3.963 3.963 0 0 0-3.959 3.958v4.75a3.963 3.963 0 0 0 3.959 3.959h4.75a3.963 3.963 0 0 0 3.958-3.959v-4.75A3.963 3.963 0 0 0 17.542 2.5Zm2.375 8.708a2.378 2.378 0 0 1-2.375 2.375h-4.75a2.378 2.378 0 0 1-2.375-2.375v-4.75a2.378 2.378 0 0 1 2.375-2.375h4.75a2.378 2.378 0 0 1 2.375 2.375v4.75Zm-4.75 6.334a3.963 3.963 0 0 1-3.959 3.958h-4.75A3.963 3.963 0 0 1 2.5 17.542v-4.75a3.963 3.963 0 0 1 3.958-3.959.791.791 0 1 1 0 1.584 2.378 2.378 0 0 0-2.375 2.375v4.75a2.378 2.378 0 0 0 2.375 2.375h4.75a2.378 2.378 0 0 0 2.375-2.375.792.792 0 1 1 1.584 0Z"})))},be,xe;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X.apply(this,arguments)}var tt=function(t){return i.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),be||(be=i.createElement("path",{fill:"currentColor",d:"M17.25 3H6.75A3.755 3.755 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.755 3.755 0 0 0 17.25 3Zm2.25 14.25a2.25 2.25 0 0 1-2.25 2.25H6.75a2.25 2.25 0 0 1-2.25-2.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5a2.25 2.25 0 0 1 2.25 2.25v10.5Z"})),xe||(xe=i.createElement("path",{fill:"#14C786",d:"M10.312 14.45 7.83 11.906a.625.625 0 0 0-.896 0 .659.659 0 0 0 0 .918l2.481 2.546a1.264 1.264 0 0 0 .896.381 1.237 1.237 0 0 0 .895-.38l5.858-6.011a.658.658 0 0 0 0-.919.625.625 0 0 0-.896 0l-5.857 6.01Z"})))};function Y({node:e,nodeMeta:t}){const{customizeCopy:r,CopyComponent:a,CopiedComponent:c}=i.useContext(V),[u,s]=i.useState(!1),o=h=>{h.stopPropagation();const p=r(e,t);typeof p=="string"&&p&&We(p),s(!0),setTimeout(()=>s(!1),3e3)};return u?typeof c=="function"?n.jsx(c,{className:"json-view--copy",style:{display:"inline-block"}}):n.jsx(tt,{className:"json-view--copy",style:{display:"inline-block"}}):typeof a=="function"?n.jsx(a,{onClick:o,className:"json-view--copy"}):n.jsx(et,{onClick:o,className:"json-view--copy"})}function Q({indexOrName:e,value:t,depth:r,deleteHandle:a,editHandle:c,parent:u,parentPath:s}){const{displayArrayIndex:o}=i.useContext(V),h=Array.isArray(u);return n.jsxs("div",Object.assign({className:"json-view--pair"},{children:[!h||h&&o?n.jsxs(n.Fragment,{children:[n.jsx("span",Object.assign({className:typeof e=="number"?"json-view--index":"json-view--property"},{children:e})),":"," "]}):n.jsx(n.Fragment,{}),n.jsx(Le,{node:t,depth:r+1,deleteHandle:(p,f)=>a(p,f),editHandle:(p,f,l,y)=>c(p,f,l,y),parent:u,indexOrName:e,parentPath:s})]}))}var we,Ce;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ee.apply(this,arguments)}var ue=function(t){return i.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),we||(we=i.createElement("path",{fill:"currentColor",d:"M18.75 6h-2.325a3.757 3.757 0 0 0-3.675-3h-1.5a3.757 3.757 0 0 0-3.675 3H5.25a.75.75 0 0 0 0 1.5H6v9.75A3.754 3.754 0 0 0 9.75 21h4.5A3.754 3.754 0 0 0 18 17.25V7.5h.75a.75.75 0 1 0 0-1.5Zm-7.5-1.5h1.5A2.255 2.255 0 0 1 14.872 6H9.128a2.255 2.255 0 0 1 2.122-1.5Zm5.25 12.75a2.25 2.25 0 0 1-2.25 2.25h-4.5a2.25 2.25 0 0 1-2.25-2.25V7.5h9v9.75Z"})),Ce||(Ce=i.createElement("path",{fill:"#DA0000",d:"M10.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75ZM13.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75Z"})))},Ae,Se;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},te.apply(this,arguments)}var He=function(t){return i.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),Ae||(Ae=i.createElement("path",{fill:"currentColor",d:"M21 6.75v10.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3h10.5A3.754 3.754 0 0 1 21 6.75Zm-1.5 0c0-1.24-1.01-2.25-2.25-2.25H6.75C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25V6.75Z"})),Se||(Se=i.createElement("path",{fill:"#14C786",d:"M15 12.75a.75.75 0 1 0 0-1.5h-2.25V9a.75.75 0 1 0-1.5 0v2.25H9a.75.75 0 1 0 0 1.5h2.25V15a.75.75 0 1 0 1.5 0v-2.25H15Z"})))},Ee,Ne;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ne.apply(this,arguments)}var fe=function(t){return i.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),Ee||(Ee=i.createElement("path",{fill:"currentColor",d:"M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"})),Ne||(Ne=i.createElement("path",{fill:"#14C786",d:"m10.85 13.96-1.986-2.036a.5.5 0 0 0-.716 0 .527.527 0 0 0 0 .735l1.985 2.036a1.01 1.01 0 0 0 .717.305.99.99 0 0 0 .716-.305l4.686-4.808a.526.526 0 0 0 0-.735.5.5 0 0 0-.716 0l-4.687 4.809Z"})))},ke,Te;function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},re.apply(this,arguments)}var de=function(t){return i.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),ke||(ke=i.createElement("path",{fill:"#DA0000",d:"M15 9a.75.75 0 0 0-1.06 0L12 10.94 10.06 9A.75.75 0 0 0 9 10.06L10.94 12 9 13.94A.75.75 0 0 0 10.06 15L12 13.06 13.94 15A.75.75 0 0 0 15 13.94L13.06 12 15 10.06A.75.75 0 0 0 15 9Z"})),Te||(Te=i.createElement("path",{fill:"currentColor",d:"M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"})))};function nt({originNode:e,node:t,depth:r,index:a,deleteHandle:c,customOptions:u,startIndex:s,parent:o,parentPath:h}){const{enableClipboard:p,src:f,onEdit:l,onChange:y,forceUpdate:b,displaySize:v,CustomOperation:x}=i.useContext(V),k=[...h,String(a)],[w,O]=i.useState(!0),M=i.useCallback((A,j,U)=>{e[A]=j,l&&l({newValue:j,oldValue:U,depth:r,src:f,indexOrName:A,parentType:"array",parentPath:h}),y&&y({type:"edit",depth:r,src:f,indexOrName:A,parentType:"array",parentPath:h}),b()},[t,l,y,b]),g=A=>{e.splice(A,1),c&&c(A,h),b()},m=n.jsxs(n.Fragment,{children:[!w&&n.jsxs("span",Object.assign({onClick:()=>O(!0),className:"jv-size-chevron"},{children:[B(v,r,w)&&n.jsxs("span",Object.assign({className:"jv-size"},{children:[K(t)," Items"]})),n.jsx(oe,{className:"jv-chevron"})]})),!w&&p&&J(u)&&n.jsx(Y,{node:t,nodeMeta:{depth:r,indexOrName:a,parent:o,parentPath:h,currentPath:k}}),typeof x=="function"?n.jsx(x,{node:t}):null]});return n.jsxs("div",{children:[n.jsx("span",{children:"["}),m,w?n.jsxs("button",Object.assign({onClick:()=>O(!1),className:"jv-button"},{children:[s," ... ",s+t.length-1]})):n.jsx("div",Object.assign({className:"jv-indent"},{children:t.map((A,j)=>n.jsx(Q,{indexOrName:j+s,value:A,depth:r,parent:t,deleteHandle:g,editHandle:M,parentPath:h},String(a)+String(j)))})),n.jsx("span",{children:"]"})]})}function rt({node:e,depth:t,deleteHandle:r,indexOrName:a,customOptions:c,parent:u,parentPath:s}){const o=typeof a<"u"?[...s,String(a)]:s,h=[];for(let N=0;N<e.length;N+=100)h.push(e.slice(N,N+100));const{collapsed:p,enableClipboard:f,collapseObjectsAfterLength:l,editable:y,onDelete:b,src:v,onAdd:x,CustomOperation:k,onChange:w,forceUpdate:O,displaySize:M}=i.useContext(V),[g,m]=i.useState(he(e,t,a,p,l,c));i.useEffect(()=>{m(he(e,t,a,p,l,c))},[p,l]);const[A,j]=i.useState(!1),U=()=>{j(!1),r&&r(a,s),b&&b({value:e,depth:t,src:v,indexOrName:a,parentType:"array",parentPath:s}),w&&w({type:"delete",depth:t,src:v,indexOrName:a,parentType:"array",parentPath:s})},[T,Z]=i.useState(!1),R=()=>{const N=e;N.push(null),x&&x({indexOrName:N.length-1,depth:t,src:v,parentType:"array",parentPath:s}),w&&w({type:"add",indexOrName:N.length-1,depth:t,src:v,parentType:"array",parentPath:s}),O()},D=A||T,_=()=>{j(!1),Z(!1)},F=n.jsxs(n.Fragment,{children:[!g&&!D&&n.jsxs("span",Object.assign({onClick:()=>m(!0),className:"jv-size-chevron"},{children:[B(M,t,g)&&n.jsxs("span",Object.assign({className:"jv-size"},{children:[e.length," Items"]})),n.jsx(oe,{className:"jv-chevron"})]})),D&&n.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:T?R:U}),D&&n.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:_}),!g&&!D&&f&&J(c)&&n.jsx(Y,{node:e,nodeMeta:{depth:t,indexOrName:a,parent:u,parentPath:s,currentPath:o}}),!g&&!D&&Re(y)&&_e(c)&&n.jsx(He,{className:"json-view--edit",onClick:()=>{R()}}),!g&&!D&&le(y)&&ce(c)&&r&&n.jsx(ue,{className:"json-view--edit",onClick:()=>j(!0)}),typeof k=="function"?n.jsx(k,{node:e}):null]});return n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"["}),F,g?n.jsx("button",Object.assign({onClick:()=>m(!1),className:"jv-button"},{children:"..."})):n.jsx("div",Object.assign({className:"jv-indent"},{children:h.map((N,H)=>n.jsx(nt,{originNode:e,node:N,depth:t,index:H,startIndex:H*100,deleteHandle:r,customOptions:c,parentPath:s},String(a)+String(H)))})),n.jsx("span",{children:"]"}),g&&B(M,t,g)&&n.jsxs("span",Object.assign({onClick:()=>m(!1),className:"jv-size"},{children:[e.length," Items"]}))]})}function at({node:e,depth:t,indexOrName:r,deleteHandle:a,customOptions:c,parent:u,parentPath:s}){const{collapsed:o,onCollapse:h,enableClipboard:p,ignoreLargeArray:f,collapseObjectsAfterLength:l,editable:y,onDelete:b,src:v,onAdd:x,onEdit:k,onChange:w,forceUpdate:O,displaySize:M,CustomOperation:g}=i.useContext(V),m=typeof r<"u"?[...s,String(r)]:s;if(!f&&Array.isArray(e)&&e.length>100)return n.jsx(rt,{node:e,depth:t,indexOrName:r,deleteHandle:a,customOptions:c,parentPath:m});const A=P(e),[j,U]=i.useState(ge(e,t,r,o,l,c)),T=d=>{h==null||h({isCollapsing:!d,node:e,depth:t,indexOrName:r}),U(d)};i.useEffect(()=>{T(ge(e,t,r,o,l,c))},[o,l]);const Z=i.useCallback((d,C,q)=>{Array.isArray(e)?e[+d]=C:e&&(e[d]=C),k&&k({newValue:C,oldValue:q,depth:t,src:v,indexOrName:d,parentType:A?"object":"array",parentPath:m}),w&&w({type:"edit",depth:t,src:v,indexOrName:d,parentType:A?"object":"array",parentPath:m}),O()},[e,k,w,O]),R=d=>{Array.isArray(e)?e.splice(+d,1):e&&delete e[d],O()},[D,_]=i.useState(!1),F=()=>{_(!1),a&&a(r,m),b&&b({value:e,depth:t,src:v,indexOrName:r,parentType:A?"object":"array",parentPath:m}),w&&w({type:"delete",depth:t,src:v,indexOrName:r,parentType:A?"object":"array",parentPath:m})},[N,H]=i.useState(!1),E=i.useRef(null),$=()=>{var d;if(A){const C=(d=E.current)===null||d===void 0?void 0:d.value;C&&(e[C]=null,E.current&&(E.current.value=""),H(!1),x&&x({indexOrName:C,depth:t,src:v,parentType:"object",parentPath:m}),w&&w({type:"add",indexOrName:C,depth:t,src:v,parentType:"object",parentPath:m}))}else if(Array.isArray(e)){const C=e;C.push(null),x&&x({indexOrName:C.length-1,depth:t,src:v,parentType:"array",parentPath:m}),w&&w({type:"add",indexOrName:C.length-1,depth:t,src:v,parentType:"array",parentPath:m})}O()},L=d=>{d.key==="Enter"?(d.preventDefault(),$()):d.key==="Escape"&&I()},S=D||N,I=()=>{_(!1),H(!1)},z=n.jsxs(n.Fragment,{children:[!j&&!S&&n.jsxs("span",Object.assign({onClick:()=>T(!0),className:"jv-size-chevron"},{children:[B(M,t,j)&&n.jsxs("span",Object.assign({className:"jv-size"},{children:[K(e)," Items"]})),n.jsx(oe,{className:"jv-chevron"})]})),N&&A&&n.jsx("input",{className:"json-view--input",placeholder:"property",ref:E,onKeyDown:L}),S&&n.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:N?$:F}),S&&n.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:I}),!j&&!S&&p&&J(c)&&n.jsx(Y,{node:e,nodeMeta:{depth:t,indexOrName:r,parent:u,parentPath:s,currentPath:m}}),!j&&!S&&Re(y)&&_e(c)&&n.jsx(He,{className:"json-view--edit",onClick:()=>{A?(H(!0),setTimeout(()=>{var d;return(d=E.current)===null||d===void 0?void 0:d.focus()})):$()}}),!j&&!S&&le(y)&&ce(c)&&a&&n.jsx(ue,{className:"json-view--edit",onClick:()=>_(!0)}),typeof g=="function"?n.jsx(g,{node:e}):null]});return Array.isArray(e)?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"["}),z,j?n.jsx("button",Object.assign({onClick:()=>T(!1),className:"jv-button"},{children:"..."})):n.jsx("div",Object.assign({className:"jv-indent"},{children:e.map((d,C)=>n.jsx(Q,{indexOrName:C,value:d,depth:t,parent:e,deleteHandle:R,editHandle:Z,parentPath:m},String(r)+String(C)))})),n.jsx("span",{children:"]"}),j&&B(M,t,j)&&n.jsxs("span",Object.assign({onClick:()=>T(!1),className:"jv-size"},{children:[K(e)," Items"]}))]}):A?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"{"}),z,j?n.jsx("button",Object.assign({onClick:()=>T(!1),className:"jv-button"},{children:"..."})):n.jsx("div",Object.assign({className:"jv-indent"},{children:Object.entries(e).map(([d,C])=>n.jsx(Q,{indexOrName:d,value:C,depth:t,parent:e,deleteHandle:R,editHandle:Z,parentPath:m},String(r)+String(d)))})),n.jsx("span",{children:"}"}),j&&B(M,t,j)&&n.jsxs("span",Object.assign({onClick:()=>T(!1),className:"jv-size"},{children:[K(e)," Items"]}))]}):n.jsx("span",{children:String(e)})}const st=$e.forwardRef(({str:e,className:t,ctrlClick:r},a)=>{let{collapseStringMode:c,collapseStringsAfterLength:u,customizeCollapseStringUI:s}=i.useContext(V);const[o,h]=i.useState(!0),p=i.useRef(null);u=u>0?u:0;const f=e.replace(/\s+/g," "),l=typeof s=="function"?s(f,o):typeof s=="string"?s:"...",y=b=>{var v;if((b.ctrlKey||b.metaKey)&&r)r(b);else{const x=window.getSelection();if(x&&x.anchorOffset!==x.focusOffset&&((v=x.anchorNode)===null||v===void 0?void 0:v.parentElement)===p.current)return;h(!o)}};if(e.length<=u)return n.jsxs("span",Object.assign({ref:p,className:t,onClick:r},{children:['"',e,'"']}));if(c==="address")return e.length<=10?n.jsxs("span",Object.assign({ref:p,className:t,onClick:r},{children:['"',e,'"']})):n.jsxs("span",Object.assign({ref:p,onClick:y,className:t+" cursor-pointer"},{children:['"',o?[f.slice(0,6),l,f.slice(-4)]:e,'"']}));if(c==="directly")return n.jsxs("span",Object.assign({ref:p,onClick:y,className:t+" cursor-pointer"},{children:['"',o?[f.slice(0,u),l]:e,'"']}));if(c==="word"){let b=u,v=u+1,x=f,k=1;for(;;){if(/\W/.test(e[b])){x=e.slice(0,b);break}if(/\W/.test(e[v])){x=e.slice(0,v);break}if(k===6){x=e.slice(0,u);break}k++,b--,v++}return n.jsxs("span",Object.assign({ref:p,onClick:y,className:t+" cursor-pointer"},{children:['"',o?[x,l]:e,'"']}))}return n.jsxs("span",Object.assign({ref:p,className:t},{children:['"',e,'"']}))});var Oe;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ae.apply(this,arguments)}var it=function(t){return i.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),Oe||(Oe=i.createElement("path",{fill:"currentColor",d:"M17.25 3H6.75A3.754 3.754 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.754 3.754 0 0 0 17.25 3Zm2.25 14.25c0 1.24-1.01 2.25-2.25 2.25H6.75c-1.24 0-2.25-1.01-2.25-2.25V6.75c0-1.24 1.01-2.25 2.25-2.25h10.5c1.24 0 2.25 1.01 2.25 2.25v10.5Zm-6.09-9.466-5.031 5.03a2.981 2.981 0 0 0-.879 2.121v1.19c0 .415.336.75.75.75h1.19c.8 0 1.554-.312 2.12-.879l5.03-5.03a2.252 2.252 0 0 0 0-3.182c-.85-.85-2.331-.85-3.18 0Zm-2.91 7.151c-.28.28-.666.44-1.06.44H9v-.44c0-.4.156-.777.44-1.06l3.187-3.188 1.06 1.061-3.187 3.188Zm5.03-5.03-.782.783-1.06-1.061.782-.782a.766.766 0 0 1 1.06 0 .75.75 0 0 1 0 1.06Z"})))},De,Me;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},se.apply(this,arguments)}var lt=function(t){return i.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},t),De||(De=i.createElement("path",{fill:"currentColor",d:"M6.75 3h5.5v1.5h-5.5C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25v-5.5H21v5.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3Z"})),Me||(Me=i.createElement("path",{fill:"currentColor",d:"M20.013 3h-3.946a.987.987 0 0 0 0 1.973h1.564l-6.342 6.342a1.004 1.004 0 0 0 0 1.396 1.004 1.004 0 0 0 1.396 0l6.342-6.342v1.564a.987.987 0 0 0 1.973 0V3.987A.987.987 0 0 0 20.013 3Z"})))};function Le({node:e,depth:t,deleteHandle:r,indexOrName:a,parent:c,editHandle:u,parentPath:s}){const{collapseStringsAfterLength:o,enableClipboard:h,editable:p,src:f,onDelete:l,onChange:y,customizeNode:b,matchesURL:v,urlRegExp:x,EditComponent:k,DoneComponent:w,CancelComponent:O,CustomOperation:M}=i.useContext(V);let g;if(typeof b=="function"&&(g=ie(b,[{node:e,depth:t,indexOrName:a}])),g){if(i.isValidElement(g))return g;if(Ge(g)){const m=g;return n.jsx(m,{node:e,depth:t,indexOrName:a})}}if(Array.isArray(e)||P(e))return n.jsx(at,{parent:c,node:e,depth:t,indexOrName:a,deleteHandle:r,parentPath:s,customOptions:typeof g=="object"?g:void 0});{const m=typeof e,A=typeof a<"u"?[...s,String(a)]:s,[j,U]=i.useState(!1),[T,Z]=i.useState(!1),R=i.useRef(null),D=()=>{U(!0),setTimeout(()=>{var d,C;(d=window.getSelection())===null||d===void 0||d.selectAllChildren(R.current),(C=R.current)===null||C===void 0||C.focus()})},_=i.useCallback(()=>{let d=R.current.innerText;try{const C=JSON.parse(d);u&&u(a,C,e,s)}catch{const q=Qe(m,d);u&&u(a,q,e,s)}U(!1)},[u,a,e,s,m]),F=()=>{U(!1),Z(!1)},N=()=>{Z(!1),r&&r(a,s),l&&l({value:e,depth:t,src:f,indexOrName:a,parentType:Array.isArray(c)?"array":"object",parentPath:s}),y&&y({depth:t,src:f,indexOrName:a,parentType:Array.isArray(c)?"array":"object",type:"delete",parentPath:s})},H=i.useCallback(d=>{d.key==="Enter"?(d.preventDefault(),_()):d.key==="Escape"&&F()},[_]),E=j||T,$=!E&&me(p)&&ve(g)&&u?d=>{(d.ctrlKey||d.metaKey)&&D()}:void 0,L=n.jsxs(n.Fragment,{children:[E&&(typeof w=="function"?n.jsx(w,{className:"json-view--edit",style:{display:"inline-block"},onClick:T?N:_}):n.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:T?N:_})),E&&(typeof O=="function"?n.jsx(O,{className:"json-view--edit",style:{display:"inline-block"},onClick:F}):n.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:F})),!E&&h&&J(g)&&n.jsx(Y,{node:e,nodeMeta:{depth:t,indexOrName:a,parent:c,parentPath:s,currentPath:A}}),!E&&v&&m==="string"&&x.test(e)&&Xe(g)&&n.jsx("a",Object.assign({href:e,target:"_blank",className:"json-view--link"},{children:n.jsx(lt,{})})),!E&&me(p)&&ve(g)&&u&&(typeof k=="function"?n.jsx(k,{className:"json-view--edit",onClick:D}):n.jsx(it,{className:"json-view--edit",onClick:D})),!E&&le(p)&&ce(g)&&r&&n.jsx(ue,{className:"json-view--edit",onClick:()=>Z(!0)}),typeof M=="function"?n.jsx(M,{node:e}):null]});let S="json-view--string";switch(m){case"number":case"bigint":S="json-view--number";break;case"boolean":S="json-view--boolean";break;case"object":S="json-view--null";break}typeof(g==null?void 0:g.className)=="string"&&(S+=" "+g.className),T&&(S+=" json-view--deleting");let I=String(e);m==="bigint"&&(I+="n");const z=i.useMemo(()=>n.jsx("span",{contentEditable:!0,className:S,dangerouslySetInnerHTML:{__html:m==="string"?`"${I}"`:I},ref:R,onKeyDown:H}),[I,m,H]);return m==="string"?n.jsxs(n.Fragment,{children:[j?z:e.length>o?n.jsx(st,{str:e,ref:R,className:S,ctrlClick:$}):n.jsxs("span",Object.assign({className:S,onClick:$},{children:['"',I,'"']})),L]}):n.jsxs(n.Fragment,{children:[j?z:n.jsx("span",Object.assign({className:S,onClick:$},{children:I})),L]})}}const Ue=/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/,V=i.createContext({src:void 0,collapseStringsAfterLength:99,collapseStringMode:"directly",customizeCollapseStringUI:void 0,collapseObjectsAfterLength:20,collapsed:!1,onCollapse:void 0,enableClipboard:!0,editable:!1,onEdit:void 0,onDelete:void 0,onAdd:void 0,onChange:void 0,forceUpdate:()=>{},customizeNode:void 0,customizeCopy:()=>{},displaySize:void 0,displayArrayIndex:!0,matchesURL:!1,urlRegExp:Ue,ignoreLargeArray:!1,CopyComponent:void 0,CopiedComponent:void 0,EditComponent:void 0,CancelComponent:void 0,DoneComponent:void 0,CustomOperation:void 0});function ct({src:e,collapseStringsAfterLength:t=99,collapseStringMode:r="directly",customizeCollapseStringUI:a,collapseObjectsAfterLength:c=99,collapsed:u,onCollapse:s,enableClipboard:o=!0,editable:h=!1,onEdit:p,onDelete:f,onAdd:l,onChange:y,dark:b=!1,theme:v="default",customizeNode:x,customizeCopy:k=F=>qe(F),displaySize:w,displayArrayIndex:O=!0,style:M,className:g,matchesURL:m=!1,urlRegExp:A=Ue,ignoreLargeArray:j=!1,CopyComponent:U,CopiedComponent:T,EditComponent:Z,CancelComponent:R,DoneComponent:D,CustomOperation:_}){const[F,N]=i.useState(0),H=i.useCallback(()=>N(L=>++L),[]),[E,$]=i.useState(e);return i.useEffect(()=>$(e),[e]),n.jsx(V.Provider,Object.assign({value:{src:E,collapseStringsAfterLength:t,collapseStringMode:r,customizeCollapseStringUI:a,collapseObjectsAfterLength:c,collapsed:u,onCollapse:s,enableClipboard:o,editable:h,onEdit:p,onDelete:f,onAdd:l,onChange:y,forceUpdate:H,customizeNode:x,customizeCopy:k,displaySize:w,displayArrayIndex:O,matchesURL:m,urlRegExp:A,ignoreLargeArray:j,CopyComponent:U,CopiedComponent:T,EditComponent:Z,CancelComponent:R,DoneComponent:D,CustomOperation:_}},{children:n.jsx("code",Object.assign({className:"json-view"+(b?" dark":"")+(v&&v!=="default"?" json-view_"+v:"")+(g?" "+g:""),style:M},{children:n.jsx(Le,{node:E,depth:1,editHandle:(L,S,I,z)=>{$(S),p&&p({newValue:S,oldValue:I,depth:1,src:E,indexOrName:L,parentType:null,parentPath:z}),y&&y({type:"edit",depth:1,src:E,indexOrName:L,parentType:null,parentPath:z})},deleteHandle:(L,S)=>{$(void 0),f&&f({value:E,depth:1,src:E,indexOrName:L,parentType:null,parentPath:S}),y&&y({depth:1,src:E,indexOrName:L,parentType:null,type:"delete",parentPath:S})},parentPath:[]})}))}))}const ot=async()=>{const e=await chrome.tabs.query({url:"*://*.youtube.com/*"});return e.length===0?[]:await Promise.all(e.map(async r=>{var a;if(!r.id)return{tabId:-1,tabTitle:r.title||"Unknown",tabUrl:r.url||"",subtitleData:null,error:"Tab ID not available"};try{const c=await chrome.tabs.sendMessage(r.id,{source:Fe.POPUP,type:Ze.GET_SUBTITLE_DATA,data:{},timestamp:Date.now()});return{tabId:r.id,tabTitle:r.title||"Unknown",tabUrl:r.url||"",subtitleData:((a=c==null?void 0:c.data)==null?void 0:a.subtitleData)||null}}catch(c){return{tabId:r.id,tabTitle:r.title||"Unknown",tabUrl:r.url||"",subtitleData:null,error:c instanceof Error?c.message:"Failed to get data"}}}))},ut=()=>{const[e,t]=i.useState([]),[r,a]=i.useState(""),[c,u]=i.useState(!1),[s,o]=i.useState(null),h=async()=>{u(!0),o(null);try{const l=await ot();t(l),l.length===0&&o("No YouTube tabs found. Please open a YouTube video with subtitles.")}catch(l){o(l instanceof Error?l.message:"Unknown error"),console.error("Failed to fetch subtitle data:",l)}finally{u(!1)}};i.useEffect(()=>{h()},[]);const p=l=>!r||!l?l:l.segments&&Array.isArray(l.segments)?{...l,segments:l.segments.filter(b=>((b.nativeContent||"")+(b.targetContent||"")).toLowerCase().includes(r.toLowerCase()))}:l,f=e.filter(l=>l.subtitleData!==null).length;return n.jsxs("div",{className:"debug-app",children:[n.jsxs("header",{className:"app-header",children:[n.jsx("h1",{children:"Moki Debug Page"}),n.jsx("p",{className:"app-subtitle",children:"Subtitle Data Inspector (Multi-Tab)"})]}),n.jsxs("div",{className:"debug-controls",children:[n.jsx("input",{type:"text",placeholder:"Search subtitles...",value:r,onChange:l=>a(l.target.value),className:"search-input"}),n.jsx("button",{onClick:h,className:"refresh-button",children:"Refresh"})]}),c&&n.jsx("div",{className:"loading",children:"Loading..."}),s&&n.jsx("div",{className:"error",children:s}),e.length>0&&n.jsxs("div",{className:"debug-summary",children:["Found ",e.length," YouTube tab(s), ",f," with subtitle data"]}),n.jsxs("div",{className:"data-sections",children:[e.map(l=>n.jsxs("section",{className:"data-section",children:[n.jsxs("h3",{children:[n.jsxs("span",{className:"tab-badge",children:["Tab ",l.tabId]}),l.tabTitle]}),n.jsx("div",{className:"tab-url",children:l.tabUrl}),l.error?n.jsx("div",{className:"tab-error",children:l.error}):l.subtitleData?n.jsx(ct,{src:p(l.subtitleData),theme:"vscode",collapsed:2,enableClipboard:!0,style:{fontSize:"12px",padding:"10px"}}):n.jsxs("div",{className:"no-data",children:["No subtitle data available",n.jsx("small",{children:"Make sure subtitles are enabled on this video"})]})]},l.tabId)),e.length===0&&!c&&!s&&n.jsxs("div",{className:"no-data",children:["No YouTube tabs found",n.jsx("small",{children:"Please open a YouTube video to see subtitle data"})]})]})]})};Ie.createRoot(document.getElementById("app")).render(n.jsx(ut,{}));
